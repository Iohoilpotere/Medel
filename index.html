<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Medel – Editor Step (Prototype v2.6.1, modular)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Modular CSS -->
  <link rel="stylesheet" href="src/styles/tokens.css">
  <link rel="stylesheet" href="src/styles/theme-dark.css">
  <link rel="stylesheet" href="src/styles/theme-light.css">
  <link rel="stylesheet" href="src/styles/layout.css">
  <link rel="stylesheet" href="src/styles/stage.css">
  <link rel="stylesheet" href="src/styles/toolbar.css">
  <link rel="stylesheet" href="src/styles/panels.css">
  <link rel="stylesheet" href="src/styles/properties.css">
  <link rel="stylesheet" href="src/styles/elements.css">
</head>

<body>
  <div class="editor-layout">
    <div class="left-col me-2">
      <aside class="sidebar dock-panel border-secondary-subtle bg-dark-subtle" data-side="left" data-title="Elementi"
        data-collapsed="0">
        <div class="panel-body p-3">
          <h6 class="text-uppercase text-secondary">Elementi</h6>
          <div id="palette" class="vstack gap-2"></div>
          <hr>
          <div class="small text-secondary">Trascina un elemento nello step.
            <div class="mt-2"><span class="badge text-bg-secondary">DEL</span> elimina, <span
                class="badge text-bg-secondary">←↑→↓</span> sposta (<span class="badge text-bg-secondary">Shift</span> =
              snap a griglia). <span class="badge text-bg-secondary">Ctrl+Z</span> annulla. Ctrl/Shift-click per
              multi-selezione.</div>
          </div>
        </div>
      </aside>

      <aside id="stepsPanel" class="dock-panel border-secondary-subtle bg-dark-subtle" data-side="left"
        data-title="Step" data-collapsed="1">
        <div class="panel-body p-3">
          <div class="steps-toolbar mb-2">
            <button id="btnAddCat" class="btn btn-outline-light btn-sm" type="button" title="Nuova categoria">+
              Categoria</button>
          </div>
          <div id="stepsCats" class="vstack gap-2"></div>
        </div>
      </aside>
    </div>

    <main class="stage-wrap d-flex flex-column">
      <div
        class="toolbar d-flex align-items-center px-3 py-2 border-bottom border-secondary-subtle bg-dark-subtle flex-wrap">
        <div class="btn-group me-2" role="group" aria-label="Orientamento">
          <input type="radio" class="btn-check" name="orient" id="orientLandscape" autocomplete="off" checked>
          <label class="btn btn-outline-light btn-sm" for="orientLandscape">16:9</label>
          <input type="radio" class="btn-check" name="orient" id="orientPortrait" autocomplete="off">
          <label class="btn btn-outline-light btn-sm" for="orientPortrait">9:16</label>
        </div>
        <div class="d-flex align-items-center me-3" style="min-width:280px;">
          <label for="gridRange" class="form-label me-2 mb-0 small">Snap/Grid</label>
          <input type="range" class="form-range" id="gridRange" min="0" max="64" step="2" value="16"
            style="width:180px">
          <span id="gridVal" class="ms-2 small code">16px</span>
          <div class="form-check form-switch ms-3">
            <input class="form-check-input" type="checkbox" role="switch" id="subgridSwitch">
            <label class="form-check-label small" for="subgridSwitch">Griglia fine</label>
          </div>
        </div>
        <div class="btn-group btn-group-sm me-2" role="group" aria-label="Align">
          <button type="button" class="btn btn-outline-light" data-cmd="align-left" title="Allinea sinistra">⟸</button>
          <button type="button" class="btn btn-outline-light" data-cmd="align-hcenter"
            title="Allinea centro orizz.">╎</button>
          <button type="button" class="btn btn-outline-light" data-cmd="align-right" title="Allinea destra">⟹</button>
          <button type="button" class="btn btn-outline-light" data-cmd="align-top" title="Allinea alto">⟰</button>
          <button type="button" class="btn btn-outline-light" data-cmd="align-vcenter"
            title="Allinea centro vert.">━</button>
          <button type="button" class="btn btn-outline-light" data-cmd="align-bottom" title="Allinea basso">⟱</button>
          <button type="button" class="btn btn-outline-light" data-cmd="dist-h" title="Distribuisci orizz.">⇤ ⇥</button>
          <button type="button" class="btn btn-outline-light" data-cmd="dist-v" title="Distribuisci vert.">⇑ ⇓</button>
        </div>
        <div class="btn-group btn-group-sm me-2" role="group" aria-label="Layers">
          <button type="button" class="btn btn-outline-light" data-cmd="front" title="Porta in cima">↑</button>
          <button type="button" class="btn btn-outline-light" data-cmd="back" title="Porta indietro">↓</button>
        </div>
        <div class="input-group input-group-sm me-2" style="width: 300px;">
          <span class="input-group-text">Sfondo</span>
          <input id="bgUrl" type="url" class="form-control" placeholder="https://…/img.jpg">
          <button id="setBg" class="btn btn-outline-light" type="button">Imposta</button>
        </div>
        <button id="btnExportHtml" class="btn btn-primary btn-sm" type="button">Esporta HTML</button>
      </div>

      <div class="stage-outer p-3">
        <div id="stage" class="stage" data-orient="landscape" data-grid="on" data-subgrid="off" style="--grid:16px;">
          <div class="stage-size">
            <div id="stepCanvas"></div>
            <div id="marquee" class="marquee d-none"></div>
          </div>
        </div>
      </div>
    </main>

    <aside class="propbar dock-panel border-secondary-subtle bg-dark-subtle" data-side="right" data-title="Proprietà">
      <div class="panel-body p-3">
        <h6 class="text-uppercase text-secondary">Proprietà</h6>
        <form id="propForm" class="vstack gap-2">
          <div class="text-secondary small">Nessun elemento selezionato</div>
        </form>
      </div>
    </aside>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="./src/main.js"></script>
</body>

</html>